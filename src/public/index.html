<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assets/css/style.min.css">
    <title>TODO-list</title>
</head>

<body ng-app="todoList" ng-controller="TodoController as todoCtrl">
    <header>
        <h1>Welcome</h1>
        <div class="search">
            <input ng-model="todoCtrl.search" class="input-search" type="text" placeholder="Type for search">
            <img ng-click="todoCtrl.find(todoCtrl.search)" class="img-search" src="assets/img/search.png" alt="Search">
        </div>
    </header>
    <section class="content">
        <div class="group-add">
            <img ng-hide="todoCtrl.todo" ng-click="todoCtrl.add()" class="add-icon" src="assets/img/add.png" alt="Add new TODO">
            <img ng-show="todoCtrl.todo" ng-click="todoCtrl.remove()" class="add-icon" src="assets/img/remove.png" alt="Remove new TODO">
            <p class="add-text">Add new to do.</p>
            <form ng-show="todoCtrl.todo" name="todoCtrl.createForm" ng-submit="todoCtrl.createForm.$valid && todoCtrl.create(todoCtrl.todo)" novalidate>
                <input class="add-input" type="text" ng-model="todoCtrl.todo.description" name="description" ng-minlength="3" ng-maxlength="150" required> 
                <span class="error-label" ng-show="todoCtrl.createForm.$submitted && todoCtrl.createForm.description.$error.required">Description is required.</span>
                <span class="error-label" ng-show="todoCtrl.createForm.$submitted && todoCtrl.createForm.description.$error.minlength">Description must have at least 3 caracters.</span>       
                <span class="error-label" ng-show="todoCtrl.createForm.$submitted && todoCtrl.createForm.description.$error.maxlength">Description can have at max 150 caracters.</span>
                <button class="add-button" type="submit">Create</button>
            </form>
        </div>
        <ul>
            <li ng-repeat="todo in todoCtrl.todos" ng-class="{'todo-completed':todo.completed}">
                <p class="item-text">{{todo.description}}</p> 
                <div class="item-group-icons">
                    <img ng-click="todoCtrl.updateCompleted(todo)" class="item-icon" src="assets/img/checkmark.png" alt="Mark as completed"> 
                    <img class="item-icon" src="assets/img/edit.png" alt="Edit TODO">
                    <img ng-click="todoCtrl.delete(todo._id)" class="item-icon" src="assets/img/delete.png" alt="Delete TODO">
                </div>
            </li>
        </ul>
    </section>
    <footer class="footer">
        <p class="copyright">Â© copyright TODO-list 2017</p>
    </footer>

    <script src="../../angular/angular.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/config/api-url-factory.js"></script>
    <script type="text/javascript" src="js/todo-list/todo-service.js"></script>
    <script type="text/javascript" src="js/todo-list/todo-controller.js"></script>   

</body>

</html>